<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Zoo Puzzle - Fun Animal Cube Game | gamelink.store</title>
    <meta name="description" content="Play 3D Zoo Puzzle, an engaging animal cube puzzle game. Match and rotate colorful animal cubes to solve the puzzle. Perfect for all ages!">
    <link rel="canonical" href="https://gamelink.store" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f5f7;
        }
        .game-container {
            aspect-ratio: 16/9;
            max-width: 800px;
            margin: 0 auto;
        }
    </style>
</head>
<body class="min-h-screen">
    <header class="bg-white shadow-sm">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex justify-between items-center">
                <div class="text-2xl font-bold text-gray-900">gamelink.store</div>
            </div>
        </nav>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <h1 class="text-4xl font-bold text-gray-900 mb-4">3D Zoo Puzzle</h1>
        <p class="text-xl text-gray-600 mb-8">A delightful puzzle game where you match and rotate colorful animal cubes to create a perfect zoo!</p>

        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
            <div class="mb-6">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">Customize Your Cube</h2>
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Quick Themes</label>
                    <select id="preset-themes" class="w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500">
                        <option value="custom">Custom Theme</option>
                        <option value="completion">Completion State</option>
                        <option value="safari">Safari Adventure</option>
                        <option value="tech">Tech World</option>
                        <option value="food">Delicious Food</option>
                        <option value="nature">Natural World</option>
                        <option value="mixed">Fun Mix</option>
                    </select>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-6 gap-4">
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">Red Face</label>
                        <select class="category-select w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 mb-2" data-face="red">
                            <option value="animals">Animals</option>
                            <option value="food">Food</option>
                            <option value="nature">Nature</option>
                            <option value="tech">Technology</option>
                        </select>
                        <select class="cube-face w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" data-face="red" data-category="animals">
                            <optgroup label="Animals">
                                <option value="cat">Cat</option>
                                <option value="dog">Dog</option>
                                <option value="lion">Lion</option>
                                <option value="tiger">Tiger</option>
                                <option value="panda">Panda</option>
                                <option value="penguin">Penguin</option>
                            </optgroup>
                            <optgroup label="Food" style="display:none">
                                <option value="apple">Apple</option>
                                <option value="banana">Banana</option>
                                <option value="pizza">Pizza</option>
                                <option value="hamburger">Hamburger</option>
                                <option value="ice-cream">Ice Cream</option>
                                <option value="coffee">Coffee</option>
                            </optgroup>
                            <optgroup label="Nature" style="display:none">
                                <option value="sun">Sun</option>
                                <option value="moon">Moon</option>
                                <option value="star">Star</option>
                                <option value="cloud">Cloud</option>
                                <option value="rainbow">Rainbow</option>
                                <option value="tree">Tree</option>
                            </optgroup>
                            <optgroup label="Technology" style="display:none">
                                <option value="html">HTML</option>
                                <option value="css">CSS</option>
                                <option value="js">JavaScript</option>
                                <option value="vue">Vue</option>
                                <option value="react">React</option>
                                <option value="ts">TypeScript</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">White Face</label>
                        <select class="category-select w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 mb-2" data-face="white">
                            <option value="animals">Animals</option>
                            <option value="food">Food</option>
                            <option value="nature">Nature</option>
                            <option value="tech">Technology</option>
                            <option value="life">Life</option>
                        </select>
                        <select class="cube-face w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" data-face="white" data-category="animals">
                        </select>
                    </div>
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">Blue Face</label>
                        <select class="category-select w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 mb-2" data-face="blue">
                            <option value="animals">Animals</option>
                            <option value="food">Food</option>
                            <option value="nature">Nature</option>
                            <option value="tech">Technology</option>
                            <option value="life">Life</option>
                        </select>
                        <select class="cube-face w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" data-face="blue" data-category="animals">
                        </select>
                    </div>
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">Green Face</label>
                        <select class="category-select w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 mb-2" data-face="green">
                            <option value="animals">Animals</option>
                            <option value="food">Food</option>
                            <option value="nature">Nature</option>
                            <option value="tech">Technology</option>
                            <option value="life">Life</option>
                        </select>
                        <select class="cube-face w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" data-face="green" data-category="animals">
                        </select>
                    </div>
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">Orange Face</label>
                        <select class="category-select w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 mb-2" data-face="orange">
                            <option value="animals">Animals</option>
                            <option value="food">Food</option>
                            <option value="nature">Nature</option>
                            <option value="tech">Technology</option>
                            <option value="life">Life</option>
                        </select>
                        <select class="cube-face w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" data-face="orange" data-category="animals">
                        </select>
                    </div>
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">Yellow Face</label>
                        <select class="category-select w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 mb-2" data-face="yellow">
                            <option value="animals">Animals</option>
                            <option value="food">Food</option>
                            <option value="nature">Nature</option>
                            <option value="tech">Technology</option>
                            <option value="life">Life</option>
                        </select>
                        <select class="cube-face w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500" data-face="yellow" data-category="animals">
                        </select>
                    </div>
                </div>
            </div>
            <div class="game-container">
                <div class="text-center mb-4">
                    <button id="start-game" class="bg-indigo-600 text-white px-6 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 mb-2">
                        开始游戏
                    </button>
                    <button id="pause-game" class="bg-orange-500 text-white px-6 py-2 rounded-md hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-offset-2 mb-2 hidden">
                        暂停游戏
                    </button>
                    <div id="timer" class="text-2xl font-semibold text-gray-900">00:00:00</div>
                </div>
                <iframe id="game-iframe"
                    src="https://zoo-js.github.io/3dcube/?red=cat&white=dog&blue=pig&green=sheep&orange=koala&yellow=ant&bg=*ffd8bf"
                    class="w-full h-full rounded-lg"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen>
                </iframe>
                <div id="completion-message" class="mt-4 text-center text-lg font-semibold text-green-600 hidden">
                    恭喜完成！用时：<span id="completion-time"></span>
                </div>
            </div>
        </div>

        <section class="grid md:grid-cols-2 gap-8">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-semibold text-gray-900 mb-4">About the Game</h2>
                <p class="text-gray-600 mb-4">3D Zoo Puzzle is an engaging brain-teaser that challenges your spatial awareness and problem-solving skills. Each cube features different animals, and your goal is to arrange them correctly to create a harmonious zoo scene.</p>
                <ul class="list-disc list-inside text-gray-600 space-y-2">
                    <li>Six different animal cubes to arrange</li>
                    <li>Beautiful 3D graphics and smooth animations</li>
                    <li>Perfect for all age groups</li>
                    <li>No time pressure - play at your own pace</li>
                </ul>
            </div>

            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-2xl font-semibold text-gray-900 mb-4">How to Play</h2>
                <ol class="list-decimal list-inside text-gray-600 space-y-2">
                    <li>Click and drag cubes to rotate them</li>
                    <li>Match the animals on adjacent faces</li>
                    <li>Arrange all cubes to create a complete zoo scene</li>
                    <li>Use your spatial awareness to solve the puzzle</li>
                </ol>
            </div>
        </section>

        <section class="mt-8 bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4">Features</h2>
            <div class="grid md:grid-cols-3 gap-4">
                <div class="text-center p-4">
                    <div class="text-3xl mb-2">🎮</div>
                    <h3 class="font-semibold text-gray-900">Easy Controls</h3>
                    <p class="text-gray-600">Simple drag-and-drop interface</p>
                </div>
                <div class="text-center p-4">
                    <div class="text-3xl mb-2">🎨</div>
                    <h3 class="font-semibold text-gray-900">Beautiful Design</h3>
                    <p class="text-gray-600">High-quality 3D graphics</p>
                </div>
                <div class="text-center p-4">
                    <div class="text-3xl mb-2">🧩</div>
                    <h3 class="font-semibold text-gray-900">Brain Training</h3>
                    <p class="text-gray-600">Enhance spatial awareness</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-white border-t mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <p class="text-center text-gray-500">© 2024 gamelink.store. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const categorySelects = document.querySelectorAll('.category-select');
            const cubeSelects = document.querySelectorAll('.cube-face');
            const iframe = document.getElementById('game-iframe');
            const presetThemes = document.getElementById('preset-themes');
            const baseUrl = 'https://zoo-js.github.io/3dcube/?';

            // Preset themes configuration
            const presets = {
                completion: {
                    red: { category: 'tech', value: 'html' },
                    white: { category: 'tech', value: 'css' },
                    blue: { category: 'tech', value: 'js' },
                    green: { category: 'tech', value: 'vue' },
                    orange: { category: 'tech', value: 'react' },
                    yellow: { category: 'tech', value: 'ts' }
                },
                safari: {
                    red: { category: 'animals', value: 'lion' },
                    white: { category: 'animals', value: 'elephant' },
                    blue: { category: 'animals', value: 'dolphin' },
                    green: { category: 'animals', value: 'giraffe' },
                    orange: { category: 'animals', value: 'tiger' },
                    yellow: { category: 'animals', value: 'monkey' }
                },
                tech: {
                    red: { category: 'tech', value: 'html' },
                    white: { category: 'tech', value: 'css' },
                    blue: { category: 'tech', value: 'js' },
                    green: { category: 'tech', value: 'vue' },
                    orange: { category: 'tech', value: 'react' },
                    yellow: { category: 'tech', value: 'ts' }
                },
                food: {
                    red: { category: 'food', value: 'pizza' },
                    white: { category: 'food', value: 'apple' },
                    blue: { category: 'food', value: 'coffee' },
                    green: { category: 'food', value: 'watermelon' },
                    orange: { category: 'food', value: 'hamburger' },
                    yellow: { category: 'food', value: 'banana' }
                },
                nature: {
                    red: { category: 'nature', value: 'sun' },
                    white: { category: 'nature', value: 'cloud' },
                    blue: { category: 'nature', value: 'moon' },
                    green: { category: 'nature', value: 'tree' },
                    orange: { category: 'nature', value: 'flower' },
                    yellow: { category: 'nature', value: 'star' }
                },
                mixed: {
                    red: { category: 'animals', value: 'panda' },
                    white: { category: 'tech', value: 'html' },
                    blue: { category: 'food', value: 'hamburger' },
                    green: { category: 'nature', value: 'rainbow' },
                    orange: { category: 'life', value: 'rocket' },
                    yellow: { category: 'animals', value: 'butterfly' }
                }
            };

            function applyPreset(presetName) {
                if (presetName === 'custom') return;
                
                const preset = presets[presetName];
                Object.entries(preset).forEach(([face, config]) => {
                    const categorySelect = document.querySelector(`.category-select[data-face="${face}"]`);
                    categorySelect.value = config.category;
                    updateSelectOptions(categorySelect);
                    
                    setTimeout(() => {
                        const cubeSelect = document.querySelector(`.cube-face[data-face="${face}"]`);
                        cubeSelect.value = config.value;
                        updateIframeUrl();
                    }, 100);
                });
            }

            // Add event listener for preset themes
            presetThemes.addEventListener('change', (e) => {
                applyPreset(e.target.value);
            });

            // Complete category options data from zoo-js
            const categoryOptions = {
                animals: {
                    cat: "Cat", dog: "Dog", pig: "Pig", sheep: "Sheep", 
                    koala: "Koala", panda: "Panda", lion: "Lion", 
                    tiger: "Tiger", elephant: "Elephant", monkey: "Monkey",
                    penguin: "Penguin", dolphin: "Dolphin", giraffe: "Giraffe",
                    bear: "Bear", fox: "Fox", rabbit: "Rabbit",
                    whale: "Whale", shark: "Shark", owl: "Owl",
                    butterfly: "Butterfly"
                },
                food: {
                    apple: "Apple", banana: "Banana", pizza: "Pizza",
                    hamburger: "Hamburger", coffee: "Coffee",
                    watermelon: "Watermelon", grape: "Grape",
                    orange: "Orange", lemon: "Lemon",
                    carrot: "Carrot"
                },
                nature: {
                    sun: "Sun", moon: "Moon", star: "Star",
                    cloud: "Cloud", rainbow: "Rainbow",
                    tree: "Tree", flower: "Flower"
                },
                tech: {
                    html: "HTML", css: "CSS", js: "JavaScript",
                    vue: "Vue", react: "React", ts: "TypeScript"
                },
                life: {
                    phone: "Phone", book: "Book", music: "Music",
                    camera: "Camera", car: "Car", heart: "Heart",
                    rocket: "Rocket", clock: "Clock", gift: "Gift",
                    key: "Key"
                }
            };

            function updateSelectOptions(categorySelect) {
                const face = categorySelect.dataset.face;
                const category = categorySelect.value;
                const cubeSelect = document.querySelector(`.cube-face[data-face="${face}"]`);
                
                // Clear current options
                cubeSelect.innerHTML = '';
                
                // Add new options based on category
                Object.entries(categoryOptions[category]).forEach(([value, label]) => {
                    const option = document.createElement('option');
                    option.value = value;
                    option.textContent = label;
                    cubeSelect.appendChild(option);
                });

                // Update iframe URL after changing options
                updateIframeUrl();
            }

            function updateIframeUrl() {
                const params = Array.from(cubeSelects).map(select => {
                    return `${select.dataset.face}=${select.value}`;
                });
                params.push('bg=*ffd8bf');
                iframe.src = baseUrl + params.join('&');
            }

            // Add event listeners for category changes
            categorySelects.forEach(select => {
                select.addEventListener('change', () => {
                    updateSelectOptions(select);
                    // Reset preset to custom when manually changing categories
                    presetThemes.value = 'custom';
                });
            });

            // Add event listeners for cube face changes
            cubeSelects.forEach(select => {
                select.addEventListener('change', () => {
                    updateIframeUrl();
                    // Reset preset to custom when manually changing faces
                    presetThemes.value = 'custom';
                });
            });

            // Initialize all faces with their default categories
            categorySelects.forEach(select => updateSelectOptions(select));

            // Set initial values
            const defaultValues = {
                red: { category: 'animals', value: 'cat' },
                white: { category: 'animals', value: 'dog' },
                blue: { category: 'animals', value: 'pig' },
                green: { category: 'animals', value: 'sheep' },
                orange: { category: 'animals', value: 'koala' },
                yellow: { category: 'animals', value: 'panda' }
            };

            Object.entries(defaultValues).forEach(([face, config]) => {
                const categorySelect = document.querySelector(`.category-select[data-face="${face}"]`);
                categorySelect.value = config.category;
                updateSelectOptions(categorySelect);
                
                setTimeout(() => {
                    const cubeSelect = document.querySelector(`.cube-face[data-face="${face}"]`);
                    cubeSelect.value = config.value;
                    updateIframeUrl();
                }, 100);
            });

            // Timer functionality
            const startButton = document.getElementById('start-game');
            const pauseButton = document.getElementById('pause-game');
            const timerDisplay = document.getElementById('timer');
            const completionMessage = document.getElementById('completion-message');
            const completionTime = document.getElementById('completion-time');
            let startTime;
            let timerInterval;
            let isGameRunning = false;
            let isPaused = false;
            let elapsedTime = 0;

            function formatTime(ms) {
                const hours = Math.floor(ms / 3600000);
                const minutes = Math.floor((ms % 3600000) / 60000);
                const seconds = Math.floor((ms % 60000) / 1000);
                return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            }

            function updateTimer() {
                if (!isPaused) {
                    const currentTime = Date.now();
                    elapsedTime = currentTime - startTime;
                    timerDisplay.textContent = formatTime(elapsedTime);
                }
            }

            function startGame() {
                if (isGameRunning && !isPaused) return;
                
                if (!isGameRunning) {
                    // Start new game
                    isGameRunning = true;
                    startTime = Date.now();
                    elapsedTime = 0;
                    completionMessage.classList.add('hidden');
                } else if (isPaused) {
                    // Resume game
                    startTime = Date.now() - elapsedTime;
                    isPaused = false;
                }

                startButton.textContent = '继续游戏';
                startButton.classList.add('hidden');
                pauseButton.classList.remove('hidden');
                
                // Start or resume timer
                timerInterval = setInterval(updateTimer, 1000);
            }

            function pauseGame() {
                if (!isGameRunning || isPaused) return;
                
                // Pause timer
                clearInterval(timerInterval);
                isPaused = true;
                
                // Update button states
                startButton.classList.remove('hidden');
                pauseButton.classList.add('hidden');
            }

            function checkCompletion() {
                // Check if all faces match their corresponding colors
                const currentState = {
                    red: document.querySelector('.cube-face[data-face="red"]').value,
                    white: document.querySelector('.cube-face[data-face="white"]').value,
                    blue: document.querySelector('.cube-face[data-face="blue"]').value,
                    green: document.querySelector('.cube-face[data-face="green"]').value,
                    orange: document.querySelector('.cube-face[data-face="orange"]').value,
                    yellow: document.querySelector('.cube-face[data-face="yellow"]').value
                };

                const isComplete = currentState.red === 'html' &&
                                 currentState.white === 'css' &&
                                 currentState.blue === 'js' &&
                                 currentState.green === 'vue' &&
                                 currentState.orange === 'react' &&
                                 currentState.yellow === 'ts';

                if (isComplete && isGameRunning) {
                    // Stop timer and show completion message
                    clearInterval(timerInterval);
                    isGameRunning = false;
                    const finalTime = formatTime(elapsedTime);
                    completionTime.textContent = finalTime;
                    completionMessage.classList.remove('hidden');
                    startButton.textContent = '开始游戏';
                    startButton.classList.remove('hidden');
                    pauseButton.classList.add('hidden');
                }
            }

            // Add event listeners for cube face changes to check completion
            cubeSelects.forEach(select => {
                select.addEventListener('change', () => {
                    updateIframeUrl();
                    presetThemes.value = 'custom';
                    if (isGameRunning) {
                        checkCompletion();
                    }
                });
            });

            // Add event listeners for start and pause buttons
            startButton.addEventListener('click', startGame);
            pauseButton.addEventListener('click', pauseGame);
        });
    </script>
</body>
</html> 